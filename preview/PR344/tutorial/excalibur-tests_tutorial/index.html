
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://ukri-excalibur.github.io/excalibur-tests/preview/PR344/tutorial/excalibur-tests_tutorial/">
      
      
        <link rel="prev" href="../reframe_tutorial/">
      
      
        <link rel="next" href="../postprocessing_tutorial/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.1">
    
    
      
        <title>Automation in excalibur-tests - ExCALIBUR-tests Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.a40c8224.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#using-reframe-for-reproducible-and-portable-performance-benchmarking" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ExCALIBUR-tests Docs" class="md-header__button md-logo" aria-label="ExCALIBUR-tests Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ExCALIBUR-tests Docs
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Automation in excalibur-tests
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/ukri-excalibur/excalibur-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ExCALIBUR-tests Docs" class="md-nav__button md-logo" aria-label="ExCALIBUR-tests Docs" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    ExCALIBUR-tests Docs
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/ukri-excalibur/excalibur-tests" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../setup/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../use/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../post-processing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Post-processing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Benchmarks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Supported Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Synthetic Benchmarks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            Synthetic Benchmarks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/hpl/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    HPL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/imb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/omb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OMB
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Mini-apps
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            Mini-apps
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/hpcg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hpcg
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/hpgmg/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    hpgmg
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/sombrero/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sombrero
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/babelstream/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    babelstream
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Applications
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            Applications
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/cp2k/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cp2k
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/grid/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    grid
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/openmm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    openmm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/ramses/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ramses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/sphng/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    sphng
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/swift/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    swift
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/trove/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trove
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/trove-pdsyev/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    trove-pdsyev
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/wrf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    wrf
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Supported Systems
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Supported Systems
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#archer2" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ARCHER2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#csd3" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSD3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#cosma" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cosma
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#dial2" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DIaL2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#dial3" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DIaL3
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#isambard-2" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Isambard 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#myriad-and-kathleen" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Myriad
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#myriad-and-kathleen" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Kathleen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../systems#tursa" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tursa
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Tutorials
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Tutorials
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../reframe_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Writing benchmarks in ReFrame
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Automation in excalibur-tests
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Automation in excalibur-tests
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Set up python environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-to-work-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Change to work directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-the-git-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the git repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Create a virtual environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-excalibur-tests-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Install the excalibur-tests framework
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-configuration-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Set configuration variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-and-configure-spack" class="md-nav__link">
    <span class="md-ellipsis">
      Install and configure spack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-installation-was-successful" class="md-nav__link">
    <span class="md-ellipsis">
      Check installation was successful
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Environment summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-sombrero-example" class="md-nav__link">
    <span class="md-ellipsis">
      Run Sombrero Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run Sombrero Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-specific-flags" class="md-nav__link">
    <span class="md-ellipsis">
      system specific flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Output sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmark-output" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmark output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Benchmark
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a Benchmark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-reframe-works" class="md-nav__link">
    <span class="md-ellipsis">
      How ReFrame works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#include-reframe-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Include ReFrame modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-test-class" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Test Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-build-recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Add Build Recipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-run-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Add Run Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Add environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      Add Sanity Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-performance-pattern-check" class="md-nav__link">
    <span class="md-ellipsis">
      Add Performance Pattern Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-stream-benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      Run Stream Benchmark
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-output" class="md-nav__link">
    <span class="md-ellipsis">
      Sample Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpreting-stream-results" class="md-nav__link">
    <span class="md-ellipsis">
      Interpreting STREAM results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametrized-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Parametrized tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-values" class="md-nav__link">
    <span class="md-ellipsis">
      Reference values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Reading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Useful Reading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reframe" class="md-nav__link">
    <span class="md-ellipsis">
      ReFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../postprocessing_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Postprocessing ReFrame output
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../profiling_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Profiling benchmarks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installing-the-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Framework
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installing the Framework">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-up-python-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Set up python environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#change-to-work-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Change to work directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clone-the-git-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Clone the git repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-virtual-environment" class="md-nav__link">
    <span class="md-ellipsis">
      Create a virtual environment
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-the-excalibur-tests-framework" class="md-nav__link">
    <span class="md-ellipsis">
      Install the excalibur-tests framework
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-configuration-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Set configuration variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#install-and-configure-spack" class="md-nav__link">
    <span class="md-ellipsis">
      Install and configure spack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-installation-was-successful" class="md-nav__link">
    <span class="md-ellipsis">
      Check installation was successful
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-summary" class="md-nav__link">
    <span class="md-ellipsis">
      Environment summary
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-sombrero-example" class="md-nav__link">
    <span class="md-ellipsis">
      Run Sombrero Example
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Run Sombrero Example">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#system-specific-flags" class="md-nav__link">
    <span class="md-ellipsis">
      system specific flags
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#output-sample" class="md-nav__link">
    <span class="md-ellipsis">
      Output sample
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#benchmark-output" class="md-nav__link">
    <span class="md-ellipsis">
      Benchmark output
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-a-benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Benchmark
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Create a Benchmark">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#how-reframe-works" class="md-nav__link">
    <span class="md-ellipsis">
      How ReFrame works
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getting-started" class="md-nav__link">
    <span class="md-ellipsis">
      Getting started
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#include-reframe-modules" class="md-nav__link">
    <span class="md-ellipsis">
      Include ReFrame modules
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-test-class" class="md-nav__link">
    <span class="md-ellipsis">
      Create a Test Class
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-build-recipe" class="md-nav__link">
    <span class="md-ellipsis">
      Add Build Recipe
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-run-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Add Run Configuration
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-environment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Add environment variables
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-sanity-check" class="md-nav__link">
    <span class="md-ellipsis">
      Add Sanity Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#add-performance-pattern-check" class="md-nav__link">
    <span class="md-ellipsis">
      Add Performance Pattern Check
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-stream-benchmark" class="md-nav__link">
    <span class="md-ellipsis">
      Run Stream Benchmark
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sample-output" class="md-nav__link">
    <span class="md-ellipsis">
      Sample Output
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#interpreting-stream-results" class="md-nav__link">
    <span class="md-ellipsis">
      Interpreting STREAM results
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#parametrized-tests" class="md-nav__link">
    <span class="md-ellipsis">
      Parametrized tests
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-values" class="md-nav__link">
    <span class="md-ellipsis">
      Reference values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#useful-reading" class="md-nav__link">
    <span class="md-ellipsis">
      Useful Reading
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Useful Reading">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#reframe" class="md-nav__link">
    <span class="md-ellipsis">
      ReFrame
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#spack" class="md-nav__link">
    <span class="md-ellipsis">
      Spack
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<hr />
<style>
.reveal {
  font-size: 30px;
}
</style>

<h1 id="using-reframe-for-reproducible-and-portable-performance-benchmarking">Using ReFrame for reproducible and portable performance benchmarking</h1>
<p>In this tutorial you will set up the excalibur-tests benchmarking framework on a HPC system, build and run example benchmarks, create a new benchmark and explore benchmark data.</p>
<hr />
<h2 id="installing-the-framework">Installing the Framework</h2>
<hr />
<h3 id="set-up-python-environment">Set up python environment</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Cosma</label><label for="__tabbed_1_2">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>This tutorial is run on the <a href="https://cosma.readthedocs.io/en/latest/">Cosma</a> supercomputer.
It should be straightforward to run on a different platform, the requirements are  <code>gcc 4.5</code>, <code>git 2.39</code> and <code>python 3.7</code> or later. 
(for the later parts you also need <code>make</code>, <code>autotools</code>, <code>cmake</code> and <code>spack</code> but these can be installed locally).
Before proceeding to install ReFrame, we recommend creating a python virtual environment to avoid clashes with other installed python packages.
First load a newer python module.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>module<span class="w"> </span>swap<span class="w"> </span>python/3.10.12
</span></code></pre></div></p>
</div>
<div class="tabbed-block">
<p>This tutorial is run on ARCHER2, you should have signed up for a training account before starting.
It can be ran on other HPC systems with a batch scheduler but will require making some changes to the config.
Before proceeding to install ReFrame, we recommend creating a python virtual environment to avoid clashes with other installed python packages.
First load the system python module.
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>module<span class="w"> </span>load<span class="w"> </span>cray-python
</span></code></pre></div></p>
</div>
</div>
</div>
<p>Then create an environment and activate it with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>reframe_tutorial
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nb">source</span><span class="w"> </span>reframe_tutorial/bin/activate
</span></code></pre></div>
<p>You will have to activate the environment each time you login. To deactivate the environment run <code>deactivate</code>.</p>
<hr />
<h3 id="change-to-work-directory">Change to work directory</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Cosma</label><label for="__tabbed_2_2">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>Move on to the next step.</p>
</div>
<div class="tabbed-block">
<p>On ARCHER2, the compute nodes do not have access to your home directory, therefore it is important to install everything in a <a href="https://docs.archer2.ac.uk/user-guide/data/#work-file-systems">work file system</a>. 
Change to the work directory with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="nb">cd</span><span class="w"> </span>/work/ta131/ta131/<span class="si">${</span><span class="nv">USER</span><span class="si">}</span>
</span></code></pre></div>
<p>If you are tempted to use a symlink here, ensure you use <code>cd -P</code> when changing directory. 
ARCHER2 compute nodes cannot read from <code>/home</code>, only <code>/work</code>, so not completely following symlinks can result in a broken installation.</p>
</div>
</div>
</div>
<hr />
<h3 id="clone-the-git-repository">Clone the git repository</h3>
<p>In the work directory, clone the <a href="https://github.com/ukri-excalibur/excalibur-tests">excalibur-tests</a> repository with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ukri-excalibur/excalibur-tests.git
</span></code></pre></div>
<hr />
<h3 id="create-a-virtual-environment">Create a virtual environment</h3>
<p>Before proceeding to install the software, we recommend creating a python virtual environment to avoid clashes with other installed python packages. You can do this with
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>excalibur-env
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nb">source</span><span class="w"> </span>excalibur-env/bin/activate
</span></code></pre></div></p>
<p>You should now see the name of the environment in parenthesis your terminal prompt, for example:
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">(</span>excalibur-env<span class="o">)</span><span class="w"> </span>tk-d193@ln03:/work/d193/d193/tk-d193&gt;
</span></code></pre></div></p>
<p>You will have to activate the environment each time you login. To deactivate the environment run <code>deactivate</code>.</p>
<hr />
<h3 id="install-the-excalibur-tests-framework">Install the excalibur-tests framework</h3>
<p>Now we can use <code>pip</code> to install the package in the virtual environment. Update pip to the latest version with 
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>pip<span class="w"> </span>install<span class="w"> </span>--upgrade<span class="w"> </span>pip
</span></code></pre></div>
then install the framework with
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>pip<span class="w"> </span>install<span class="w"> </span>-e<span class="w"> </span>./excalibur-tests<span class="o">[</span>post-processing<span class="o">]</span>
</span></code></pre></div>
We used the <code>editable</code> flag <code>-e</code> because later in the tutorial you will edit the repository to develop a new benchmark.</p>
<p>We included optional dependencies with <code>[post-processing]</code>. We will need those in the postprocessing section.</p>
<hr />
<h3 id="set-configuration-variables">Set configuration variables</h3>
<p>Configure the framework by setting these environment variables</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RFM_CONFIG_FILES</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/excalibur-tests/benchmarks/reframe_config.py&quot;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RFM_USE_LOGIN_SHELL</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
</span></code></pre></div>
<hr />
<h3 id="install-and-configure-spack">Install and configure spack</h3>
<p>Finally, we need to install the <code>spack</code> package manager. The framework will use it to build the benchmarks. Clone spack with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>git<span class="w"> </span>clone<span class="w"> </span>-c<span class="w"> </span>feature.manyFiles<span class="o">=</span><span class="nb">true</span><span class="w"> </span>https://github.com/spack/spack.git
</span></code></pre></div>
<p>Then configure <code>spack</code> with</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nb">source</span><span class="w"> </span>./spack/share/spack/setup-env.sh
</span></code></pre></div>
<p>Spack should now be in the default search path.</p>
<hr />
<h3 id="check-installation-was-successful">Check installation was successful</h3>
<p>You can check everything has been installed successfully by checking that <code>spack</code> and <code>reframe</code> are in path and the path to the ReFrame config file is set correctly</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>$<span class="w"> </span>spack<span class="w"> </span>--version
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="m">0</span>.22.0.dev0<span class="w"> </span><span class="o">(</span>88e738c34346031ce875fdd510dd2251aa63dad7<span class="o">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>$<span class="w"> </span>reframe<span class="w"> </span>--version
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="m">4</span>.4.1
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>$<span class="w"> </span>ls<span class="w"> </span><span class="nv">$RFM_CONFIG_FILES</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>/work/d193/d193/tk-d193/excalibur-tests/benchmarks/reframe_config.py
</span></code></pre></div>
<hr />
<h3 id="environment-summary">Environment summary</h3>
<p>If you log out and back in, you will have to run some of the above commands again to recreate your environment. These are (from your <code>work</code> directory):</p>
<div class="tabbed-set tabbed-alternate" data-tabs="3:1"><input checked="checked" id="__tabbed_3_1" name="__tabbed_3" type="radio" /><div class="tabbed-labels"><label for="__tabbed_3_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>module<span class="w"> </span>load<span class="w"> </span>cray-python
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="nb">source</span><span class="w"> </span>excalibur-env/bin/activate
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RFM_CONFIG_FILES</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span><span class="s2">/excalibur-tests/benchmarks/reframe_config.py&quot;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="nb">export</span><span class="w"> </span><span class="nv">RFM_USE_LOGIN_SHELL</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="nb">source</span><span class="w"> </span>./spack/share/spack/setup-env.sh
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h2 id="run-sombrero-example">Run Sombrero Example</h2>
<p>You can now use ReFrame to run benchmarks from the <code>benchmarks/examples</code> and <code>benchmarks/apps</code> directories. The basic syntax is 
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>reframe<span class="w"> </span>-c<span class="w"> </span>&lt;path/to/benchmark&gt;<span class="w"> </span>-r
</span></code></pre></div></p>
<hr />
<h3 id="system-specific-flags">system specific flags</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="4:1"><input checked="checked" id="__tabbed_4_1" name="__tabbed_4" type="radio" /><div class="tabbed-labels"><label for="__tabbed_4_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<p>In addition, on ARCHER2, you have to provide the quality of service (QoS) type for your job to ReFrame on the command line with <code>-J</code>. Use the "short" QoS to run the sombrero example with
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>reframe<span class="w"> </span>-c<span class="w"> </span>excalibur-tests/benchmarks/examples/sombrero<span class="w"> </span>-r<span class="w"> </span>-J<span class="s1">&#39;--qos=short&#39;</span>
</span></code></pre></div>
You may notice you actually ran four benchmarks with that single command! That is because the benchmark is parametrized. We will talk about this in the next section.</p>
</div>
</div>
</div>
<hr />
<h3 id="output-sample">Output sample</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="5:1"><input checked="checked" id="__tabbed_5_1" name="__tabbed_5" type="radio" /><div class="tabbed-labels"><label for="__tabbed_5_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>$<span class="w"> </span>reframe<span class="w"> </span>-c<span class="w"> </span>benchmarks/examples/sombrero/<span class="w"> </span>-r<span class="w"> </span>-J<span class="s1">&#39;--qos=short&#39;</span><span class="w"> </span>--performance-report
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="o">[</span>ReFrame<span class="w"> </span>Setup<span class="o">]</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">  </span>version:<span class="w">           </span><span class="m">4</span>.3.0
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span>command:<span class="w">           </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/excalibur-env/bin/reframe -c benchmarks/examples/sombrero/ -r -J--qos=short&#39;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span>launched<span class="w"> </span>by:<span class="w">       </span>tk-d193@ln03
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span>working<span class="w"> </span>directory:<span class="w"> </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/excalibur-tests&#39;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span>settings<span class="w"> </span>files:<span class="w">    </span><span class="s1">&#39;&lt;builtin&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;/work/d193/d193/tk-d193/excalibur-tests/benchmarks/reframe_config.py&#39;</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span>check<span class="w"> </span>search<span class="w"> </span>path:<span class="w"> </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/excalibur-tests/benchmarks/examples/sombrero&#39;</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span>stage<span class="w"> </span>directory:<span class="w">   </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/excalibur-tests/stage&#39;</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">  </span>output<span class="w"> </span>directory:<span class="w">  </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/excalibur-tests/output&#39;</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">  </span>log<span class="w"> </span>files:<span class="w">         </span><span class="s1">&#39;/tmp/rfm-u1l6yt7f.log&#39;</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="o">[==========]</span><span class="w"> </span>Running<span class="w"> </span><span class="m">4</span><span class="w"> </span>check<span class="o">(</span>s<span class="o">)</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="o">[==========]</span><span class="w"> </span>Started<span class="w"> </span>on<span class="w"> </span>Fri<span class="w"> </span>Jul<span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">15</span>:47:45<span class="w"> </span><span class="m">2023</span><span class="w"> </span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>start<span class="w"> </span>processing<span class="w"> </span>checks
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">2</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">2</span><span class="w"> </span>/de04c10b<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">2</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">1</span><span class="w"> </span>/c52a123d<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">2</span><span class="w"> </span>/c1c3a3f1<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">1</span><span class="w"> </span>/52e1ce98<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">1</span>/4<span class="o">)</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">2</span><span class="w"> </span>/c1c3a3f1<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a>P:<span class="w"> </span>flops:<span class="w"> </span><span class="m">0</span>.67<span class="w"> </span>Gflops/seconds<span class="w"> </span><span class="o">(</span>r:1.2,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">2</span>/4<span class="o">)</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">1</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">1</span><span class="w"> </span>/52e1ce98<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a>P:<span class="w"> </span>flops:<span class="w"> </span><span class="m">0</span>.67<span class="w"> </span>Gflops/seconds<span class="w"> </span><span class="o">(</span>r:1.2,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">3</span>/4<span class="o">)</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">2</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">2</span><span class="w"> </span>/de04c10b<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>P:<span class="w"> </span>flops:<span class="w"> </span><span class="m">1</span>.27<span class="w"> </span>Gflops/seconds<span class="w"> </span><span class="o">(</span>r:1.2,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">4</span>/4<span class="o">)</span><span class="w"> </span>SombreroBenchmark<span class="w"> </span>%tasks<span class="o">=</span><span class="m">2</span><span class="w"> </span>%cpus_per_task<span class="o">=</span><span class="m">1</span><span class="w"> </span>/c52a123d<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#__codelineno-16-28"></a>P:<span class="w"> </span>flops:<span class="w"> </span><span class="m">1</span>.24<span class="w"> </span>Gflops/seconds<span class="w"> </span><span class="o">(</span>r:1.2,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#__codelineno-16-29"></a><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>all<span class="w"> </span>spawned<span class="w"> </span>checks<span class="w"> </span>have<span class="w"> </span>finished
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#__codelineno-16-30"></a>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#__codelineno-16-31"></a><span class="o">[</span><span class="w">  </span>PASSED<span class="w">  </span><span class="o">]</span><span class="w"> </span>Ran<span class="w"> </span><span class="m">4</span>/4<span class="w"> </span><span class="nb">test</span><span class="w"> </span><span class="k">case</span><span class="o">(</span>s<span class="o">)</span><span class="w"> </span>from<span class="w"> </span><span class="m">4</span><span class="w"> </span>check<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>failure<span class="o">(</span>s<span class="o">)</span>,<span class="w"> </span><span class="m">0</span><span class="w"> </span>skipped,<span class="w"> </span><span class="m">0</span><span class="w"> </span>aborted<span class="o">)</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#__codelineno-16-32"></a><span class="o">[==========]</span><span class="w"> </span>Finished<span class="w"> </span>on<span class="w"> </span>Fri<span class="w"> </span>Jul<span class="w">  </span><span class="m">7</span><span class="w"> </span><span class="m">15</span>:48:23<span class="w"> </span><span class="m">2023</span><span class="w"> </span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#__codelineno-16-33"></a>Log<span class="w"> </span>file<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;/tmp/rfm-u1l6yt7f.log&#39;</span>
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="benchmark-output">Benchmark output</h3>
<p>You can find build and run logs in the <code>output/</code> directory of a successful benchmark. They record how the benchmark was built by spack and ran by ReFrame.</p>
<p>While the benchmark is running, the log files are kept in the <code>stage/</code> directory. They remain there if the benchmark fails to build or run.</p>
<p>You can find the performance log file from the benchmark in <code>perflogs/</code>. The perflog records the captured figures of merit, environment variables and metadata about the job.</p>
<hr />
<h2 id="create-a-benchmark">Create a Benchmark</h2>
<p>In this section you will create a ReFrame benchmark by writing a python class that tells ReFrame how to build and run an application and collect data from its output. </p>
<p>For simplicity, we use the <a href="https://www.cs.virginia.edu/stream/ref.html"><code>STREAM</code></a> benchmark. It is a simple memory bandwidth benchmark with minimal build dependencies.</p>
<p>If you've already gone through the <a href="../reframe_tutorial/">ReFrame tutorial</a> some of the steps in creating the STREAM benchmark are repeated. However, pay attention to the <a href="./#create-a-test-class"><code>Create a Test Class</code></a> and <a href="./#add-build-recipe"><code>Add Build Recipe</code></a> steps.</p>
<hr />
<h3 id="how-reframe-works">How ReFrame works</h3>
<p>When ReFrame executes a test it runs a pipeline of the following stages</p>
<p><img alt="" src="https://reframe-hpc.readthedocs.io/en/stable/_images/pipeline.svg" /></p>
<p>You can customise the behaviour of each stage or add a hook before or after each of them.  For more details, read the <a href="https://reframe-hpc.readthedocs.io/en/stable/pipeline.html">ReFrame pipeline documentation</a>.</p>
<hr />
<h3 id="getting-started">Getting started</h3>
<p>To get started, open an empty <code>.py</code> file where you will write the ReFrame class, e.g. <code>stream.py</code>. Save the file in a new directory e.g. <code>excalibur-tests/benchmarks/apps/stream</code>.</p>
<hr />
<h3 id="include-reframe-modules">Include ReFrame modules</h3>
<p>The first thing you need is include a few modules from ReFrame. These should be available if the installation step was successful.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">reframe</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">rfm</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="kn">import</span><span class="w"> </span><span class="nn">reframe.utility.sanity</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">sn</span>
</span></code></pre></div>
<hr />
<h3 id="create-a-test-class">Create a Test Class</h3>
<p>ReFrame has built-in support for the Spack package manager.
In the following we will use the custom class <code>SpackTest</code> we created for our <code>benchmarks</code> module, which provides a tighter integration with Spack and reduces the boilerplate code you'd otherwise have to include.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">benchmarks.modules.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">SpackTest</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="nd">@rfm</span><span class="o">.</span><span class="n">simple_test</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="k">class</span><span class="w"> </span><span class="nc">StreamBenchmark</span><span class="p">(</span><span class="n">SpackTest</span><span class="p">):</span>
</span></code></pre></div>
<p>The data members and methods detailed in the following sections should be placed inside this class.</p>
<hr />
<h3 id="add-build-recipe">Add Build Recipe</h3>
<p>We prefer installing packages via spack whenever possible. In this exercise, the spack package for <code>stream</code> already exists in the global spack repository.</p>
<p>The <code>SpackTest</code> base class takes care of setting up spack as the build system ReFrame uses. We only need to instruct ReFrame to install version <code>5.10</code> of the <code>stream</code> <a href="https://spack.readthedocs.io/en/latest/package_list.html#stream">spack package</a> using the <code>openmp</code> variant.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="n">spack_spec</span> <span class="o">=</span> <span class="s1">&#39;stream@5.10 +openmp&#39;</span>
</span></code></pre></div>
<p>Note that we did not specify a compiler. Spack will use a compiler from the spack environment. The complete spec is recorded in the build log.</p>
<hr />
<h3 id="add-run-configuration">Add Run Configuration</h3>
<p>The ReFrame class tells ReFrame where and how to run the benchmark. We want to run on one task on a full archer2 node using 128 OpenMP threads to use the full node.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="n">valid_systems</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">]</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">valid_prog_environs</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;default&#39;</span><span class="p">]</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="n">executable</span> <span class="o">=</span> <span class="s1">&#39;stream_c.exe&#39;</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">num_tasks</span> <span class="o">=</span> <span class="mi">1</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">time_limit</span> <span class="o">=</span> <span class="s1">&#39;5m&#39;</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="n">use_multithreading</span> <span class="o">=</span> <span class="kc">False</span>
</span></code></pre></div>
<hr />
<h3 id="add-environment-variables">Add environment variables</h3>
<p>Environment variables can be added to the <code>env_vars</code> attribute.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">env_vars</span><span class="p">[</span><span class="s1">&#39;OMP_NUM_THREADS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">num_cpus_per_task</span><span class="si">}</span><span class="s1">&#39;</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="n">env_vars</span><span class="p">[</span><span class="s1">&#39;OMP_PLACES&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;cores&#39;</span>
</span></code></pre></div>
<hr />
<h3 id="add-sanity-check">Add Sanity Check</h3>
<p>The rest of the benchmark follows the <a href="https://reframe-hpc.readthedocs.io/en/latest/tutorial_basics.html#writing-a-performance-test">Writing a Performance Test ReFrame Tutorial</a>. First we need a sanity check that ensures the benchmark ran successfully. A function decorated with the <code>@sanity_function</code> decorator is used by ReFrame to check that the test ran successfully. The sanity function can perform a number of checks, in this case we want to match a line of the expected standard output.</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="nd">@sanity_function</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">validate_solution</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="k">return</span> <span class="n">sn</span><span class="o">.</span><span class="n">assert_found</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Solution Validates&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</span></code></pre></div>
<hr />
<h3 id="add-performance-pattern-check">Add Performance Pattern Check</h3>
<p>To record the performance of the benchmark, ReFrame should extract a figure of merit from the output of the test. A function decorated with the <code>@performance_function</code> decorator extracts or computes a performance metric from the tests output.</p>
<blockquote>
<p>In this example, we extract four performance variables, namely the memory bandwidth values for each of the Copy, Scale, Add and Triad sub-benchmarks of STREAM, where each of the performance functions use the <a href="https://reframe-hpc.readthedocs.io/en/latest/deferrable_functions_reference.html#reframe.utility.sanity.extractsingle"><code>extractsingle()</code></a> utility function. For each of the sub-benchmarks we extract the Best Rate MB/s column of the output (see below) and we convert that to a float.</p>
</blockquote>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="nd">@performance_function</span><span class="p">(</span><span class="s1">&#39;MB/s&#39;</span><span class="p">,</span> <span class="n">perf_key</span><span class="o">=</span><span class="s1">&#39;Copy&#39;</span><span class="p">)</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_copy_perf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    <span class="k">return</span> <span class="n">sn</span><span class="o">.</span><span class="n">extractsingle</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Copy:\s+(\S+)\s+.*&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="nd">@performance_function</span><span class="p">(</span><span class="s1">&#39;MB/s&#39;</span><span class="p">,</span> <span class="n">perf_key</span><span class="o">=</span><span class="s1">&#39;Scale&#39;</span><span class="p">)</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_scale_perf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>    <span class="k">return</span> <span class="n">sn</span><span class="o">.</span><span class="n">extractsingle</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Scale:\s+(\S+)\s+.*&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="nd">@performance_function</span><span class="p">(</span><span class="s1">&#39;MB/s&#39;</span><span class="p">,</span> <span class="n">perf_key</span><span class="o">=</span><span class="s1">&#39;Add&#39;</span><span class="p">)</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_add_perf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>    <span class="k">return</span> <span class="n">sn</span><span class="o">.</span><span class="n">extractsingle</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Add:\s+(\S+)\s+.*&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="nd">@performance_function</span><span class="p">(</span><span class="s1">&#39;MB/s&#39;</span><span class="p">,</span> <span class="n">perf_key</span><span class="o">=</span><span class="s1">&#39;Triad&#39;</span><span class="p">)</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">extract_triad_perf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>    <span class="k">return</span> <span class="n">sn</span><span class="o">.</span><span class="n">extractsingle</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;Triad:\s+(\S+)\s+.*&#39;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">float</span><span class="p">)</span>
</span></code></pre></div>
<hr />
<h3 id="run-stream-benchmark">Run Stream Benchmark</h3>
<p>You can now run the benchmark in the same way as the previous sombrero example</p>
<div class="tabbed-set tabbed-alternate" data-tabs="6:1"><input checked="checked" id="__tabbed_6_1" name="__tabbed_6" type="radio" /><div class="tabbed-labels"><label for="__tabbed_6_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>reframe<span class="w"> </span>-c<span class="w"> </span>excalibur-tests/benchmarks/apps/stream/<span class="w"> </span>-r<span class="w"> </span>--system<span class="w"> </span>archer2<span class="w"> </span>-J<span class="s1">&#39;--qos=short&#39;</span>
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="sample-output">Sample Output</h3>
<div class="tabbed-set tabbed-alternate" data-tabs="7:1"><input checked="checked" id="__tabbed_7_1" name="__tabbed_7" type="radio" /><div class="tabbed-labels"><label for="__tabbed_7_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a>$<span class="w"> </span>reframe<span class="w"> </span>-c<span class="w"> </span>excalibur-tests/benchmarks/examples/stream/<span class="w"> </span>-r<span class="w"> </span>-J<span class="s1">&#39;--qos=short&#39;</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a><span class="o">[</span>ReFrame<span class="w"> </span>Setup<span class="o">]</span>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="w">  </span>version:<span class="w">           </span><span class="m">4</span>.4.1
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="w">  </span>command:<span class="w">           </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/ciuk-demo/demo-env/bin/reframe -c excalibur-tests/benchmarks/examples/stream/ -r -J--qos=short&#39;</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="w">  </span>launched<span class="w"> </span>by:<span class="w">       </span>tk-d193@ln03
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="w">  </span>working<span class="w"> </span>directory:<span class="w"> </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/ciuk-demo&#39;</span>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="w">  </span>settings<span class="w"> </span>files:<span class="w">    </span><span class="s1">&#39;&lt;builtin&gt;&#39;</span>,<span class="w"> </span><span class="s1">&#39;/work/d193/d193/tk-d193/ciuk-demo/excalibur-tests/benchmarks/reframe_config.py&#39;</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#__codelineno-25-8"></a><span class="w">  </span>check<span class="w"> </span>search<span class="w"> </span>path:<span class="w"> </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/ciuk-demo/excalibur-tests/benchmarks/examples/stream&#39;</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#__codelineno-25-9"></a><span class="w">  </span>stage<span class="w"> </span>directory:<span class="w">   </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/ciuk-demo/stage&#39;</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#__codelineno-25-10"></a><span class="w">  </span>output<span class="w"> </span>directory:<span class="w">  </span><span class="s1">&#39;/mnt/lustre/a2fs-work3/work/d193/d193/tk-d193/ciuk-demo/output&#39;</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#__codelineno-25-11"></a><span class="w">  </span>log<span class="w"> </span>files:<span class="w">         </span><span class="s1">&#39;/tmp/rfm-z87x4min.log&#39;</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#__codelineno-25-12"></a>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#__codelineno-25-13"></a><span class="w">  </span><span class="o">[==========]</span><span class="w"> </span>Running<span class="w"> </span><span class="m">1</span><span class="w"> </span>check<span class="o">(</span>s<span class="o">)</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#__codelineno-25-14"></a><span class="w">  </span><span class="o">[==========]</span><span class="w"> </span>Started<span class="w"> </span>on<span class="w"> </span>Thu<span class="w"> </span>Nov<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">14</span>:50:21<span class="w"> </span><span class="m">2023</span><span class="w"> </span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#__codelineno-25-15"></a>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#__codelineno-25-16"></a><span class="w">  </span><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>start<span class="w"> </span>processing<span class="w"> </span>checks
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#__codelineno-25-17"></a><span class="w">  </span><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>/8aeff853<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#__codelineno-25-18"></a><span class="w">  </span><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">1</span>/1<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>/8aeff853<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#__codelineno-25-19"></a><span class="w">  </span>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">1380840</span>.8<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#__codelineno-25-20"></a><span class="w">  </span>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">1369568</span>.7<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#__codelineno-25-21"></a><span class="w">  </span>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">1548666</span>.1<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#__codelineno-25-22"></a><span class="w">  </span>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">1548666</span>.1<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23" href="#__codelineno-25-23"></a><span class="w">  </span><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>all<span class="w"> </span>spawned<span class="w"> </span>checks<span class="w"> </span>have<span class="w"> </span>finished
</span><span id="__span-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24" href="#__codelineno-25-24"></a>
</span><span id="__span-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25" href="#__codelineno-25-25"></a><span class="w">  </span><span class="o">[</span><span class="w">  </span>PASSED<span class="w">  </span><span class="o">]</span><span class="w"> </span>Ran<span class="w"> </span><span class="m">1</span>/1<span class="w"> </span><span class="nb">test</span><span class="w"> </span><span class="k">case</span><span class="o">(</span>s<span class="o">)</span><span class="w"> </span>from<span class="w"> </span><span class="m">1</span><span class="w"> </span>check<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>failure<span class="o">(</span>s<span class="o">)</span>,<span class="w"> </span><span class="m">0</span><span class="w"> </span>skipped,<span class="w"> </span><span class="m">0</span><span class="w"> </span>aborted<span class="o">)</span>
</span><span id="__span-25-26"><a id="__codelineno-25-26" name="__codelineno-25-26" href="#__codelineno-25-26"></a><span class="w">  </span><span class="o">[==========]</span><span class="w"> </span>Finished<span class="w"> </span>on<span class="w"> </span>Thu<span class="w"> </span>Nov<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">14</span>:51:13<span class="w"> </span><span class="m">2023</span><span class="w"> </span>
</span><span id="__span-25-27"><a id="__codelineno-25-27" name="__codelineno-25-27" href="#__codelineno-25-27"></a><span class="w">  </span>Log<span class="w"> </span>file<span class="o">(</span>s<span class="o">)</span><span class="w"> </span>saved<span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="s1">&#39;/tmp/rfm-z87x4min.log&#39;</span>
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="interpreting-stream-results">Interpreting STREAM results</h3>
<p>With default compile options, STREAM uses arrays of 10 million elements. On a full node, the default array size fits into cache, and the benchmark does not report the correct memory bandwidth. 
Therefore the numbers from this tutorial are not comparable with other, published, results.</p>
<p>To avoid caching, increase the array size during build by adding e.g. <code>stream_array_size=64000000</code> to the spack spec. </p>
<hr />
<h3 id="parametrized-tests">Parametrized tests</h3>
<p>You can pass a list to the <code>parameter()</code> built-in function in the class body to create a parametrized test. You cannot access the individual parameter value within the class body, so any reference to them should be placed in the appropriate function, for example <code>__init__()</code></p>
<p>Example: Parametrize the array size</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="n">array_size</span> <span class="o">=</span> <span class="n">parameter</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mf">4e6</span><span class="p">,</span><span class="mf">8e6</span><span class="p">,</span><span class="mf">16e6</span><span class="p">,</span><span class="mf">32e6</span><span class="p">,</span><span class="mf">64e6</span><span class="p">])</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>    <span class="bp">self</span><span class="o">.</span><span class="n">spack_spec</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;stream@5.10 +openmp stream_array_size=</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">array_size</span><span class="si">}</span><span class="s2">&quot;</span>
</span></code></pre></div>
<div class="tabbed-set tabbed-alternate" data-tabs="8:1"><input checked="checked" id="__tabbed_8_1" name="__tabbed_8" type="radio" /><div class="tabbed-labels"><label for="__tabbed_8_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>start<span class="w"> </span>processing<span class="w"> </span>checks
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">64000000</span><span class="w"> </span>/bbfd0e71<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">32000000</span><span class="w"> </span>/e16f9017<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">16000000</span><span class="w"> </span>/abc01230<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">8000000</span><span class="w"> </span>/51d83d77<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-6"><a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="o">[</span><span class="w"> </span>RUN<span class="w">      </span><span class="o">]</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">4000000</span><span class="w"> </span>/8399bc0b<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-7"><a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">1</span>/5<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">32000000</span><span class="w"> </span>/e16f9017<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-8"><a id="__codelineno-27-8" name="__codelineno-27-8" href="#__codelineno-27-8"></a>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">343432</span>.5<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-9"><a id="__codelineno-27-9" name="__codelineno-27-9" href="#__codelineno-27-9"></a>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">291065</span>.8<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-10"><a id="__codelineno-27-10" name="__codelineno-27-10" href="#__codelineno-27-10"></a>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">275577</span>.5<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-11"><a id="__codelineno-27-11" name="__codelineno-27-11" href="#__codelineno-27-11"></a>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">247425</span>.0<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-12"><a id="__codelineno-27-12" name="__codelineno-27-12" href="#__codelineno-27-12"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">2</span>/5<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">16000000</span><span class="w"> </span>/abc01230<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-13"><a id="__codelineno-27-13" name="__codelineno-27-13" href="#__codelineno-27-13"></a>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">2538396</span>.7<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-14"><a id="__codelineno-27-14" name="__codelineno-27-14" href="#__codelineno-27-14"></a>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">2349544</span>.5<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-15"><a id="__codelineno-27-15" name="__codelineno-27-15" href="#__codelineno-27-15"></a>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">2912500</span>.4<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-16"><a id="__codelineno-27-16" name="__codelineno-27-16" href="#__codelineno-27-16"></a>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">2886402</span>.8<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-17"><a id="__codelineno-27-17" name="__codelineno-27-17" href="#__codelineno-27-17"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">3</span>/5<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">8000000</span><span class="w"> </span>/51d83d77<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-18"><a id="__codelineno-27-18" name="__codelineno-27-18" href="#__codelineno-27-18"></a>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">1641807</span>.1<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-19"><a id="__codelineno-27-19" name="__codelineno-27-19" href="#__codelineno-27-19"></a>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">1362616</span>.5<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-20"><a id="__codelineno-27-20" name="__codelineno-27-20" href="#__codelineno-27-20"></a>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">1959382</span>.9<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-21"><a id="__codelineno-27-21" name="__codelineno-27-21" href="#__codelineno-27-21"></a>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">1940497</span>.3<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-22"><a id="__codelineno-27-22" name="__codelineno-27-22" href="#__codelineno-27-22"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">4</span>/5<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">64000000</span><span class="w"> </span>/bbfd0e71<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-23"><a id="__codelineno-27-23" name="__codelineno-27-23" href="#__codelineno-27-23"></a>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">255622</span>.4<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-24"><a id="__codelineno-27-24" name="__codelineno-27-24" href="#__codelineno-27-24"></a>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">235186</span>.0<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-25"><a id="__codelineno-27-25" name="__codelineno-27-25" href="#__codelineno-27-25"></a>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">204853</span>.9<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-26"><a id="__codelineno-27-26" name="__codelineno-27-26" href="#__codelineno-27-26"></a>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">213072</span>.2<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-27"><a id="__codelineno-27-27" name="__codelineno-27-27" href="#__codelineno-27-27"></a><span class="o">[</span><span class="w">       </span>OK<span class="w"> </span><span class="o">]</span><span class="w"> </span><span class="o">(</span><span class="m">5</span>/5<span class="o">)</span><span class="w"> </span>StreamBenchmark<span class="w"> </span>%array_size<span class="o">=</span><span class="m">4000000</span><span class="w"> </span>/8399bc0b<span class="w"> </span>@archer2:compute-node+default
</span><span id="__span-27-28"><a id="__codelineno-27-28" name="__codelineno-27-28" href="#__codelineno-27-28"></a>P:<span class="w"> </span>Copy:<span class="w"> </span><span class="m">1231355</span>.3<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-29"><a id="__codelineno-27-29" name="__codelineno-27-29" href="#__codelineno-27-29"></a>P:<span class="w"> </span>Scale:<span class="w"> </span><span class="m">1086783</span>.2<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-30"><a id="__codelineno-27-30" name="__codelineno-27-30" href="#__codelineno-27-30"></a>P:<span class="w"> </span>Add:<span class="w"> </span><span class="m">1519446</span>.0<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-31"><a id="__codelineno-27-31" name="__codelineno-27-31" href="#__codelineno-27-31"></a>P:<span class="w"> </span>Triad:<span class="w"> </span><span class="m">1548666</span>.1<span class="w"> </span>MB/s<span class="w"> </span><span class="o">(</span>r:0,<span class="w"> </span>l:None,<span class="w"> </span>u:None<span class="o">)</span>
</span><span id="__span-27-32"><a id="__codelineno-27-32" name="__codelineno-27-32" href="#__codelineno-27-32"></a><span class="o">[</span>----------<span class="o">]</span><span class="w"> </span>all<span class="w"> </span>spawned<span class="w"> </span>checks<span class="w"> </span>have<span class="w"> </span>finished
</span><span id="__span-27-33"><a id="__codelineno-27-33" name="__codelineno-27-33" href="#__codelineno-27-33"></a>
</span><span id="__span-27-34"><a id="__codelineno-27-34" name="__codelineno-27-34" href="#__codelineno-27-34"></a><span class="o">[</span><span class="w">  </span>PASSED<span class="w">  </span><span class="o">]</span><span class="w"> </span>Ran<span class="w"> </span><span class="m">5</span>/5<span class="w"> </span><span class="nb">test</span><span class="w"> </span><span class="k">case</span><span class="o">(</span>s<span class="o">)</span><span class="w"> </span>from<span class="w"> </span><span class="m">5</span><span class="w"> </span>check<span class="o">(</span>s<span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>failure<span class="o">(</span>s<span class="o">)</span>,<span class="w"> </span><span class="m">0</span><span class="w"> </span>skipped,<span class="w"> </span><span class="m">0</span><span class="w"> </span>aborted<span class="o">)</span>
</span><span id="__span-27-35"><a id="__codelineno-27-35" name="__codelineno-27-35" href="#__codelineno-27-35"></a><span class="o">[==========]</span><span class="w"> </span>Finished<span class="w"> </span>on<span class="w"> </span>Thu<span class="w"> </span>Nov<span class="w"> </span><span class="m">30</span><span class="w"> </span><span class="m">14</span>:34:48<span class="w"> </span><span class="m">2023</span><span class="w"> </span>
</span></code></pre></div>
</div>
</div>
</div>
<hr />
<h3 id="reference-values">Reference values</h3>
<p>ReFrame can automate checking that the results fall within an expected range. We can use it in our previous example of increasing the array size to avoid caching. You can set a different reference value for each <code>perf_key</code> in the performance function. For example, set the test to fail if it falls outside of +-25% of the values obtained with the largest array size.</p>
<div class="tabbed-set tabbed-alternate" data-tabs="9:1"><input checked="checked" id="__tabbed_9_1" name="__tabbed_9" type="radio" /><div class="tabbed-labels"><label for="__tabbed_9_1">ARCHER2</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="language-python highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">reference</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>    <span class="s1">&#39;archer2&#39;</span><span class="p">:</span> <span class="p">{</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>        <span class="s1">&#39;Copy&#39;</span><span class="p">:</span>  <span class="p">(</span><span class="mi">260000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;MB/s&#39;</span><span class="p">),</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>        <span class="s1">&#39;Scale&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">230000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;MB/s&#39;</span><span class="p">),</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>        <span class="s1">&#39;Add&#39;</span><span class="p">:</span>   <span class="p">(</span><span class="mi">210000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;MB/s&#39;</span><span class="p">),</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>        <span class="s1">&#39;Triad&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">210000</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="s1">&#39;MB/s&#39;</span><span class="p">)</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>    <span class="p">}</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="p">}</span>
</span></code></pre></div>
</div>
</div>
</div>
<blockquote>
<p>The performance reference tuple consists of the reference value, the lower and upper thresholds expressed as fractional numbers relative to the reference value, and the unit of measurement. If any of the thresholds is not relevant, None may be used instead. Also, the units in this reference variable are entirely optional, since they were already provided through the @performance_function decorator.</p>
</blockquote>
<hr />
<h2 id="useful-reading">Useful Reading</h2>
<hr />
<h3 id="reframe">ReFrame</h3>
<ul>
<li><a href="https://reframe-hpc.readthedocs.io/">ReFrame Documentation</a></li>
<li>ReFrame tutorials<ul>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_basics.html">Tutorial 1: Getting started with ReFrame</a></li>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_advanced.html">Tutorial 2: Customizing Further a Regression Test</a></li>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_deps.html">Tutorial 3: Using Dependencies in ReFrame Tests</a></li>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_fixtures.html">Tutorial 4: Using Test Fixtures</a></li>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_build_automation.html">Tutorial 5: Using Build Automation Tools As a Build System</a></li>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/tutorial_tips_tricks.html">Tutorial 6: Tips and Tricks</a></li>
</ul>
</li>
<li>Libraries of ReFrame tests<ul>
<li><a href="https://reframe-hpc.readthedocs.io/en/stable/hpctestlib.html">Official ReFrame test library</a></li>
<li><a href="https://github.com/reframe-hpc">ReFrame GitHub organisation with various contributed test libraries</a></li>
</ul>
</li>
</ul>
<hr />
<h3 id="spack">Spack</h3>
<ul>
<li><a href="https://spack.readthedocs.io/">Spack documentation</a></li>
<li><a href="https://spack-tutorial.readthedocs.io/">Spack tutorial (including YouTube recordings)</a></li>
<li><a href="https://packages.spack.io/">Spack package searchable list</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.copy", "content.code.select", "content.code.annotate"], "search": "../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.5090c770.min.js"></script>
      
    
  </body>
</html>